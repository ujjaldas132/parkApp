<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Parking Lot</title>
   
</head>
<body style="background-color:'blue';">
<div >
<img id="1" src="images/car.PNG" style="width:400px;height:450px;margin:20px" onclick="change('1')">
<img id="2" src="images/car.PNG" style="width:400px;height:450px;margin:20px" onclick="change('2')">
<img id="3" src="images/car.PNG" style="width:400px;height:450px;margin:20px" onclick="change('3')">
<img id="4" src="images/car.PNG" style="width:400px;height:450px;margin:20px" onclick="change('4')">
</div>


<div >
<img id="5" src="images/car.PNG" style="width:400px;height:450px;margin:20px" onclick="change('5')">
<img id="6" src="images/car.PNG" style="width:400px;height:450px;margin:20px" onclick="change('6')">
<img id="7" src="images/car.PNG" style="width:400px;height:450px;margin:20px" onclick="change('7')">
<img id="8" src="images/car.PNG" style="width:400px;height:450px;margin:20px" onclick="change('8')">
</div>


</body>





<script>








var data;

function yourFunction(){
    // do whatever you like here
    const http = new XMLHttpRequest()

http.open("GET", "http://127.0.0.1:5000/")
http.send()

http.onload = () => {console.log(http.responseText);
data=JSON.parse(http.responseText);

for(var key in data){
	updatestatusImage(key,data[key])
}

}

    setTimeout(yourFunction, 5000);
}

yourFunction();





var ids=1;


console.log('before');
change("1");
//wait(7000);  //7 seconds in milliseconds
console.log('after');
change("2");



    function change(id){
    	console.log(id);
    a=document.getElementById(id);
    for(var i=1;i<21;i++){
    	setTimeout(function(){

var curImageNameSplitter=a.src.split("/");
    var curImage=curImageNameSplitter[curImageNameSplitter.length-1];
    console.log(i);
    if(curImage=="car.PNG"){a.src="images/carN.PNG";}
    else if(curImage=="carN.PNG"){a.src="images/carD.PNG";}
    else if(curImage=="carD.PNG"){a.src="images/carF.PNG";}
    else if(curImage=="carF.PNG"){a.src="images/carC.PNG";}
    else{a.src="images/car.PNG";}


    	},i*100);
    	
    }
    
    }


    


    function updatestatusImage(id,update){
    	a=document.getElementById(id);
    	if(update=="n"){a.src="images/carN.PNG";}
    else if(update=="d"){a.src="images/carD.PNG";}
    else if(update=="f"){a.src="images/carF.PNG";}
    else if(update=="c"){a.src="images/carC.PNG";}
    else{a.src="images/car.PNG";}
    }



    function wait(ms){
   var start = new Date().getTime();
   var end = start;
   while(end < start + ms) {
     end = new Date().getTime();
  }
}

</script>


</html>